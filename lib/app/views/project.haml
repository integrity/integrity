#administrative
  %a{ :href => project_path(@project, :edit) } Edit
  = " / "
  %a{ :href => project_status_image_url(@project) } Status Image
  = " / "
  %a{ :href => project_json_url(@project) } JSON
  - if @project.github?
    = " / "
    %a{ :href => github_project_url(@project) }= github_project_link(@project)

- if @project.blank?
  %form.blank_slate{ :action => project_path(@project, :builds), :method => :post }
    %p No builds for this project, buddy
    %h1
      You can request a
      %button{ :type => :submit } manual build
- else
  #last_build{ :class => @project.status }
    = partial(:build_info, :build => @project.last_build)

  %form{ :action => project_path(@project, :builds), :method => :post }
    %p.submit.manual-build
      %button{ :type => :submit, :title => "Fetch the last commit from the remote repository and build it" }<
        Fetch and build

  - unless @project.blank?
    %h2 Builds
    %ul#previous_builds
      - date = nil
      - @builds.each do |build|
        - build_date = pretty_date(build.committed_at)
        - unless date == build_date
          - date = build_date
          %li.builds-group<
            %h6=date
        %li{ :class => build.status }
          %a{ :href => build_path(build) }
            %strong.build<
              &== Build #{build.sha1_short}
            %span.attribution<
              &== by #{build.author}, #{build_date}

  - unless @showing_all_builds
    %p
      %a{ :href => project_path(@project, :all) } See all builds
